<div class="tree-container">
    <details>
        <summary><strong>Creating an Immutable Class in Java</strong></summary>

        <ol>
            <li>Declare the class as <code>final</code> so it can't be extended.</li>
            <li>Declare all fields as <code>private</code> and <code>final</code>.</li>
            <li>Do not provide setter methods.</li>
            <li>Initialize all fields via constructor (defensive copies for mutable fields).</li>
            <li>Provide only getters.</li>
            <li>Ensure deep copy of mutable objects.</li>
        </ol>

        <p>Here’s a clean, complete example of an <strong>immutable class in Java</strong>, following all six rules:</p>

        <pre><code class="language-java">
    // 1️⃣ Declare the class as final so it can't be extended
    public final class Employee {

        // 2️⃣ All fields are private and final
        private final String name;
        private final int age;
        private final Address address; // mutable object

        // 4️⃣ Initialize all fields via constructor (with defensive copies for mutable fields)
        public Employee(String name, int age, Address address) {
            this.name = name;
            this.age = age;
            // Defensive copy to prevent external modification
            this.address = new Address(address.getCity(), address.getState());
        }

        // 5️⃣ Only getter methods (no setters)
        public String getName() {
            return name;
        }

        public int getAge() {
            return age;
        }

        // 6️⃣ Return a deep copy of mutable objects to preserve immutability
        public Address getAddress() {
            return new Address(address.getCity(), address.getState());
        }

        @Override
        public String toString() {
            return "Employee{name='" + name + "', age=" + age + ", address=" + address + "}";
        }

        // Example mutable class (not immutable)
        static class Address {
            private String city;
            private String state;

            public Address(String city, String state) {
                this.city = city;
                this.state = state;
            }

            public String getCity() {
                return city;
            }

            public String getState() {
                return state;
            }

            public void setCity(String city) {
                this.city = city;
            }

            public void setState(String state) {
                this.state = state;
            }

            @Override
            public String toString() {
                return city + ", " + state;
            }
        }

        // Example usage
        public static void main(String[] args) {
            Address address = new Address("New York", "NY");
            Employee emp1 = new Employee("Alice", 30, address);

            System.out.println(emp1);

            // Try modifying the original Address object
            address.setCity("Los Angeles");

            // emp1 remains unchanged — proving immutability
            System.out.println(emp1);
        }
    }
    </code></pre>

        <h3>✅ Output:</h3>

        <pre><code>
    Employee{name='Alice', age=30, address=New York, NY}
    Employee{name='Alice', age=30, address=New York, NY}
    </code></pre>

        <p>Even though the original <code>Address</code> was modified, the <code>Employee</code> object stays unchanged — confirming <strong>true immutability</strong>.</p>

    </details>

    <details>
        <summary><strong>Creating a Singleton Class in Java</strong></summary>

        <pre><code class="language-java">
public class Database {

    private static Database dbInstance;

    private Database() {
        // private constructor to prevent instantiation
    }

    public static synchronized Database getInstance() {
        if (dbInstance == null) {
            dbInstance = new Database();
        }
        return dbInstance;
    }
}
</code></pre>

    </details>
</div>